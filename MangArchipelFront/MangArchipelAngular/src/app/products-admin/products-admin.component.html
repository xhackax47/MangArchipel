<!--<p-dataTable [value]="products" [(selection)]="product" selectionMode="single" (onRowSelect)="onRowSelect($event)" [paginator]="true" [rows]="10" [headerCheckboxToggleAllPages]="true">
  <p-column field="productName" header="Produits"></p-column>
  <p-column  header="Actions"><button pButton (click)="activer()">Activer</button></p-column>

</p-dataTable>-->
<div *ngIf="logged&&admin">
<p-dataView [layout]="grid" [value]="products" [paginator]="true" [rows]="10">
  <p-header>
    <p-dataViewLayoutOptions ></p-dataViewLayoutOptions>
  </p-header>
  <ng-template let-p pTemplate="listItem">
    <div class="objetDataView">
      <div *ngIf="!p.visible" class="locked"> {{p.productName}}</div>
      <div *ngIf="p.visible" class="unlocked"> {{p.productName}}</div>
      <div> <button type="button" pButton><i class="pi pi-pencil"></i></button>
        <button type="button" pButton><i class="pi pi-trash"></i></button>
        <button type="button" *ngIf="p.visible" (click)="lock(p.id)" pButton><i class="pi pi-lock"></i></button>
        <button type="button" *ngIf="!p.visible" (click)="unlock(p.id)" pButton><i class="pi pi-unlock"></i></button></div>

    </div>
  </ng-template>
  <ng-template let-p pTemplate="gridItem">
    <div class="ui-g-12 ui-md-3">
      <div *ngIf="!p.visible" class="locked"> {{p.productName}}</div>
      <div *ngIf="p.visible" class="unlocked"> {{p.productName}}</div>
      <div> <button type="button" pButton><i class="pi pi-pencil"></i></button>
        <button type="button" pButton><i class="pi pi-trash"></i></button>
        <button type="button" *ngIf="p.visible" (click)="lock(p.id)" pButton><i class="pi pi-lock"></i></button>
        <button type="button" *ngIf="!p.visible" (click)="unlock(p.id)" pButton><i class="pi pi-unlock"></i></button></div>

    </div>

  </ng-template>
 
</p-dataView>

<app-add-product (envoi)="onClickParent($event)"></app-add-product>
</div>
<div *ngIf="!(logged&&admin)">
  Vous devez être connecté en tant qu'administrateur pour accéder à cette page
</div>